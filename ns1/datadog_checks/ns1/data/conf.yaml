## All options defined here are available to all instances.
#
init_config:


## Every instance is scheduled independent of the others.
#
instances:

  # DDI setup
  - api_endpoint: https://localhost
    api_key: OZojRnrR9MhdeNscWPpa
    min_collection_interval: 15
    metrics:
      # ddi to query lease stats. if you want specific scope groups, enter as array of scope group id's
      ddi:
        - 2

    # Managed DNS setup
  - api_endpoint: https://my.nsone.net

    ## @param api_key - string - required
    ## The api authentication key.
    # account with pulsar
    api_key: svgRdvxF6XpWtqXGBJi7
    # dragan's account
    #api_key: BgSRwbMc7oiYBf9F9HUi
    #
    # api_key for DDI account
    # https://demo.nsone.net/#/account/settings
    # JCyLfTuBg2df63WM51F9
    # api key for locall ddi instalation
    # OZojRnrR9MhdeNscWPpa


    ## @param min_collection_interval - number - optional - default: 15
    ## This changes the collection interval of the check. For more information, see:
    ## https://docs.datadoghq.com/developers/write_agent_check/#collection-interval
    #
    min_collection_interval: 15

    # Usage and Pulsar API endpoints can have query string parameters
    # 
    query_params:
      usage_networks: "*"
      # ‘30m’, ‘1h’, ‘30d’
      # for pulsar, period should be at leas 1 hour to make sure we get some data
      # as they might be agrgregated ofer discrete time periods
      pulsar_period: 1h
      # ‘US’, ‘FR’, ‘GR’, ‘JP’, ‘US_NY’
      pulsar_geo: "*"
      # Specifies an Autonomous System Number to filter for
      pulsar_asn: "*"
      # one of: ‘avg’, ‘max’, ‘min’, ‘p50’, ‘p75’, ‘p90’, ‘p95’, ‘p99’, ‘p999’
      pulsar_agg: avg
      pulsar_map_id: 0
    
      # metrics to collect
    metrics:
      pulsar:
      # app_id:job_id
      pulsar_by_app:        
        - 1xy4sn3: 1b1o94j
        - 1xy4sn3: 1uy3acz
        - 1xy4sn3: 1uzovn7
        - 1xy4sn3: 1xtsor1
        - 1xy4sn3: 1xtvhvx        
      # record: record type
      pulsar_by_record:        
        - www.dloc.com: A
        - www.dloc1.com: A
        - www.dloc2.com: A

      qps: 
        - dloc.com:
          - www: A
          - email: A
        - dloc1.com:
          - www: A
          - email: A
        - dloc2.com:
          - www: A
          - email: A
      usage: 
        - dloc.com:
          - www: A
          - email: A
        - dloc1.com:
          - www: A
          - email: A
        - dloc2.com:
          - www: A
          - email: A
      account:
        - billing:
        - ttl:
          - dloc.com
          - dloc1.com
          - dloc2.com

logs:
  - type: file
    path: /var/log/datadog/ns1.log
    service: "ns1"
    source: python
    sourcecategory: sourcecode

